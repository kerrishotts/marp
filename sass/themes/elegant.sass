/*
 * Elegant - Marp slide theme.
 * Based on Gaia Copyright (C) 2016 Yuki Hattori.
 *
 * Gaia was inspired by AZUSA Keynote templates (by @sanographix).
 * https://github.com/sanographix/azusa-keynote
 */

@import './markdown'
@import '../../node_modules/prismjs/themes/prism-okaidia.css'
@import url(https://fonts.googleapis.com/css?family=Elsie)
@import url(https://fonts.googleapis.com/css?family=Lato)
@import url(https://fonts.googleapis.com/css?family=Fira+Mono:400,500,700)

@function hsl($h, $s, $l)
  @return unquote('hsl(#{$h}, #{$s}, #{$l})')

@function hsla($h, $s, $l, $a)
  @return unquote('hsla(#{$h}, #{$s}, #{$l}, #{$a})')

+body-slide-mode

  .markdown-body
    font-size: calc(0.045px * var(--slide-height))
    font-family: var(--text-font-family)
    line-height: 1.3
    letter-spacing: 1.25px
    word-wrap: break-word

  .slide_footer
    opacity: .6
    line-height: calc(0.045px * var(--slide-height))
    font-size: calc(0.025px * var(--slide-height))

  .slide_wrapper
    --hue: 200;
    --slide-bg-color: hsl(var(--hue), 5%, 15%);
    --slide-text-color: hsl(var(--hue), 5%, 85%);
    --slide-text-strong-color: white;
    --slide-text-em-color: white;
    --slide-text-heading-color: hsl(var(--hue), 75%, 66%);
    --slide-hr-color: hsl(var(--hue), 75%, 66%);
    --slide-text-title-color: white;
    --slide-title-banner-color: hsla(var(--hue), 5%, 15%, 0.33);

    --code-bg-color: var(--slide-bg-color);
    --code-text-color: var(--slide-text-color);

    --link-color: hsl(var(--hue), 75%, 75%);
    --quote-color: var(--slide-text-color);
    --big-quote-color: var(--slide-text-heading-color);

    --thead-bg-color: hsl(var(--hue), 75%, 35%);
    --thead-text-color: white;
    --table-border-color: hsl(var(--hue), 35%, 35%);
    --table-odd-bg-color: hsla(var(--hue), 75%, 35%, 0.125);


    --text-font-family: 'Lato', 'Helvetica Neue', 'Helvetica', 'Arial', sans-serif;
    --title-font-family: 'Elsie', serif;
    --heading-font-family: 'Lato', serif;
    --quote-font-family: var(--text-font-family);
    --big-quote-font-family: 'Elsie', serif;
    --code-font-family: 'Fira Mono', 'Roboto Mono', 'Menlo', 'Courier New', Courier, monospace;

    color: var(--slide-text-color)
    font-family: var(--text-font-family)
    background-color: var(--slide-bg-color)

    > .slide
      padding: calc(0.1px * var(--slide-height)) calc(0.08px * var(--slide-width))

      .slide_inner
        height: 100%

    &.only-headings, &.only-blockquotes
      > .slide
        justify-content: center

        .slide_inner
          height: auto

      blockquote
        font-family: var(--big-quote-font-family)
        font-size: 1.8em
        text-align: center
        color: var(--big-quote-color)

    hr
      visibility: hidden

    hr + *
      position: absolute
      left: 0
      right: 0
      bottom: 0
      border-top: 1px solid var(--slide-hr-color)
      padding: 0.5em
      font-size: 50%

    strong
      color: var(--slide-text-strong-color)

    em
      color: var(--slide-text-em-color)

    h1
      border-bottom: 0.4rem solid currentColor

    h1, h2, h3, h4
      font-weight: bold

    h5, h6
      font-weight: normal

    h1, h2, h3, h4, h5, h6
      margin: 0 0 .5em 0
      color: var(--slide-text-heading-color)
      font-family: var(--heading-font-family)

      &.bold
        font-weight: bold

      &.light
        font-weight: normal

    &.only-headings
      h1, h2, h3, h4, h5, h6
        text-align: center
        color: var(--slide-text-color)

      h1
        border-bottom: none
        padding: 0.5em 0
        position: relative
        width: calc(100% + 2.5in)
        left: -1.25in
        background-color: var(--slide-title-banner-color)
        font-family: var(--title-font-family)
        color: var(--slide-text-title-color)
        border: none;
        font-weight: normal
        font-size: 2.5em
        line-height: normal

    h1
      font-size: 1.8em
    h2
      font-size: 1.5em
    h3
      font-size: 1.4em
    h4
      font-size: 1.1em
    h5
      font-size: 1em
    h6
      font-size: 0.9em

    // Styling
    mark
      background: transparent

    code
      font-family: var(--code-font-family)
      display: inline-block
      padding: 0.1em 0.2em
      margin: -0.1em 0.05em
      letter-spacing: 0
      font-size: 1em
      vertical-align: baseline

    pre
      overflow: auto
      margin: 0

      &[class*="language-"]
        padding: 0

      &.line-numbers
        padding-left: 3.8em

      &[data-line]
        padding: 0 0 0 3em

      .line-highlight
        background: var(--code-text-color);
        opacity: 0.25
        margin-top: 0

      code
        display: block
        margin: 0

        span.command-line-prompt
          span:last-child
            display: none

    ul, ol
      > li
        margin: 0.6em 0

        > p
          margin: 0

      &.no_bullets
        li
          list-style-type: none !important

    ol
      list-style-type: decimal

    blockquote
      position: relative
      margin: calc(0.04px * var(--slide-height))
      font-family: var(--quote-font-family)
      font-style: italic

    table
      border-spacing: 0
      border-collapse: collapse
      width: 100%

      th, td
        padding: 0.2em 0.4em
        border-width: 1px
        border-style: solid

        table.no-border &
          border: 0 !important;

    > .slide
      background-color: var(--slide-bg-color)

    mark
      background-color: var(--slide-text-color)
      color: var(--slide-bg-color)

    a
      color: var(--link-color)
      text-decoration: none

    code
      background-color: var(--code-bg-color)
      color: var(--code-text-color)

    pre
      color: var(--code-text-color)
      background-color: var(--code-background-color)

    blockquote
      &::after, &::before
        color: var(--quote-color)

    table
      th, td
        border-color: var(--table-border-color)

      thead
        th
          background: var(--thead-bg-color)
          color: var(--thead-text-color)

      tbody
        tr:nth-child(odd)
          td, th
            background: var(--table-odd-bg-color)

    &[data-template~="light"]
      --slide-bg-color: hsl(var(--hue), 5%, 95%);
      --slide-text-color: hsl(var(--hue), 5%, 15%);
      --slide-text-strong-color: hsl(var(--hue), 5%, 5%);
      --slide-text-em-color: hsl(var(--hue), 5%, 5%);
      --slide-text-heading-color: hsl(var(--hue), 75%, 50%);
      --slide-text-title-color: hsl(var(--hue), 5%, 5%);
      --slide-title-banner-color: hsla(var(--hue), 5%, 95%, 0.33);
      --code-bg-color: var(--slide-bg-color);
      --code-text-color: var(--slide-text-color);
      --link-color: hsl(var(--hue), 75%, 33%);
      --quote-color: var(--slide-text-color);
      --big-quote-color: var(--slide-text-heading-color);
      --thead-bg-color: hsl(var(--hue), 75%, 35%);
      --thead-text-color: white;
      --table-border-color: hsl(var(--hue), 35%, 35%);
      --table-odd-bg-color: hsla(var(--hue), 75%, 35%, 0.05);

    &[data-template~="pink"]
      --hue: 320;

    &[data-template~="amber"]
      --hue: 40;

    &[data-template~="purple"]
      --hue: 260;


@media print
  html, body
    background-color: black

pre code .token.operator, pre code .token.entity, pre code .token.url, pre code .language-css pre code .token.string, pre code .style .token.string
  background-color: inherit